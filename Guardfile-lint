guard :shell do
  watch(/src\/(main|test)\/java\/.+\.java/) do |m|
    title = "Lint output"
    status = :failed

    msg = `mvn compile && mvn checkstyle:checkstyle`

    if $?.success?
      status = :success
    end

    n msg, title, status

    "-> #{msg}"
  end
end
